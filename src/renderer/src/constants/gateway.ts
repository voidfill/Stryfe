export const enum OPCodes {
	DISPATCH,
	HEARTBEAT,
	IDENTIFY,
	PRESENCE_UPDATE,
	VOICE_STATE_UPDATE,
	VOICE_SERVER_PING,
	RESUME,
	RECONNECT,
	REQUEST_GUILD_MEMBERS,
	INVALID_SESSION,
	HELLO,
	HEARTBEAT_ACK,
	SYNC_GUILDS,
	CALL_CONNECT,
	GUILD_SUBSCRIPTIONS,
	LOBBY_CONNECT,
	LOBBY_DISCONNECT,
	LOBBY_VOICE_STATES_UPDATE,
	STREAM_CREATE,
	STREAM_DELETE,
	STREAM_WATCH,
	STREAM_PING,
	STREAM_SET_PAUSED,
	REQUEST_GUILD_APPLICATION_COMMANDS = 24,
	EMBEDDED_ACTIVITY_LAUNCH,
	EMBEDDED_ACTIVITY_CLOSE,
	EMBEDDED_ACTIVITY_UPDATE,
	REQUEST_FORUM_UNREADS,
	REMOTE_COMMAND,
	GET_DELETED_ENTITY_IDS_NOT_MATCHING_HASH,
}

export const enum SocketGatewayCloseCodes {
	UNKNOWN_ERROR = 4000,
	UNKNOWN_OPCODE = 4001,
	DECODE_ERROR = 4002,
	NOT_AUTHENTICATED = 4003,
	AUTHENTICATION_FAILED = 4004,
	ALREADY_AUTHENTICATED = 4005,
	INVALID_SEQUENCE = 4007,
	RATE_LIMITED = 4008,
	SESSION_TIMEOUT = 4009,
	INVALID_SHARD = 4010,
	SHARDING_REQUIRED = 4011,
	INVALID_VERSION = 4012,
	INVALID_INTENTS = 4013,
	DISALLOWED_INTENTS = 4014,
}

export type GatewayPayload =
	| {
			d: any;
			op: Exclude<OPCodes, OPCodes.DISPATCH>;
			s: null;
			t: null;
	  }
	| {
			d: any;
			op: OPCodes.DISPATCH;
			s: number;
			t: string;
	  };

const gatewayDispatches = [
	"READY",
	"READY_SUPPLEMENTAL",
	"RESUMED",
	"APPLICATION_COMMAND_PERMISSIONS_UPDATE",
	"AUDIT_LOG_ENTRY_CREATE",
	"AUTO_MODERATION_RULE_CREATE",
	"AUTO_MODERATION_RULE_UPDATE",
	"AUTO_MODERATION_RULE_DELETE",
	"AUTO_MODERATION_ACTION_EXECUTION",
	"CALL_CREATE",
	"CALL_DELETE",
	"CHANNEL_CREATE",
	"CHANNEL_UPDATE",
	"CHANNEL_DELETE",
	"CHANNEL_PINS_UPDATE",
	"THREAD_CREATE",
	"THREAD_UPDATE",
	"THREAD_DELETE",
	"THREAD_LIST_SYNC",
	"THREAD_MEMBER_UPDATE",
	"THREAD_MEMBERS_UPDATE",
	"GUILD_APPLICATION_COMMAND_INDEX_UPDATE",
	"GUILD_CREATE",
	"GUILD_UPDATE",
	"GUILD_DELETE",
	"GUILD_BAN_ADD",
	"GUILD_BAN_REMOVE",
	"GUILD_EMOJIS_UPDATE",
	"GUILD_STICKERS_UPDATE",
	"GUILD_INTEGRATIONS_UPDATE",
	"GUILD_MEMBER_ADD",
	"GUILD_MEMBER_REMOVE",
	"GUILD_MEMBER_UPDATE",
	"GUILD_MEMBERS_CHUNK",
	"GUILD_ROLE_CREATE",
	"GUILD_ROLE_UPDATE",
	"GUILD_ROLE_DELETE",
	"GUILD_SCHEDULED_EVENT_CREATE",
	"GUILD_SCHEDULED_EVENT_UPDATE",
	"GUILD_SCHEDULED_EVENT_DELETE",
	"GUILD_SCHEDULED_EVENT_USER_ADD",
	"GUILD_SCHEDULED_EVENT_USER_REMOVE",
	"INTEGRATION_CREATE",
	"INTEGRATION_UPDATE",
	"INTEGRATION_DELETE",
	"INVITE_CREATE",
	"INVITE_DELETE",
	"MESSAGE_ACK",
	"MESSAGE_CREATE",
	"MESSAGE_UPDATE",
	"MESSAGE_DELETE",
	"MESSAGE_DELETE_BULK",
	"MESSAGE_REACTION_ADD",
	"MESSAGE_REACTION_REMOVE",
	"MESSAGE_REACTION_REMOVE_ALL",
	"MESSAGE_REACTION_REMOVE_EMOJI",
	"PASSIVE_UPDATE_V1",
	"PRESENCE_UPDATE",
	"RELATIONSHIP_ADD",
	"RELATIONSHIP_REMOVE",
	"SESSIONS_REPLACE",
	"STAGE_INSTANCE_CREATE",
	"STAGE_INSTANCE_UPDATE",
	"STAGE_INSTANCE_DELETE",
	"TYPING_START",
	"USER_CONNECTIONS_UPDATE",
	"USER_UPDATE",
	"USER_SETTINGS_UPDATE",
	"USER_SETTINGS_PROTO_UPDATE",
	"VOICE_STATE_UPDATE",
	"VOICE_SERVER_UPDATE",
	"WEBHOOKS_UPDATE",
] as const;

export const gatewayDispatchesObj = Object.fromEntries(gatewayDispatches.map((d) => [d, d])) as {
	[key in (typeof gatewayDispatches)[number]]: key;
};
