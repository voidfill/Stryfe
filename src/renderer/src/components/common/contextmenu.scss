:root {
	--ctx-background: var(--background-quaternary);
	--ctx-separator: #333;
	--ctx-text: #fff;
	--ctx-border-radius: 4px;

	--ctx-primary: #123456;
	--ctx-red: #ff0000;
	--ctx-yellow: #ffff00;
	--ctx-green: #00ff00;
}

.ctx-wrapper {
	position: fixed;
	display: flex;
	flex-direction: column;
	color: var(--ctx-text);
	fill: var(--ctx-text);

	&:not(.ctx-toplevel) {
		padding: 0px 12px;
	}

	> .ctx-wrapper-inner {
		display: flex;
		flex-direction: column;
		padding: 8px;
		background-color: var(--ctx-background);
		border-radius: var(--ctx-border-radius);
		min-width: 188px;
		max-width: 320px;
		max-height: calc(100vh - 32px);
		overflow: hidden;
		overflow-y: auto;
		gap: 2px;
	}

	.ctx-menu-item {
		flex-shrink: 0;
		background-color: transparent;
		padding: 6px 8px;
		line-height: 18px;
		font-size: 100%;
		display: flex;
		flex-direction: row;
		overflow: hidden;
		border-radius: 4px;
		align-items: center;

		> .ctx-text {
			display: flex;
			flex-direction: column;
			gap: 2px;
			flex-grow: 1;

			> .ctx-sub-text {
				line-height: 10px;
				filter: opacity(0.8);
			}
		}
		> .ctx-icon {
			flex-shrink: 0;
		}

		&.color-primary {
			color: var(--ctx-text);
			accent-color: var(--ctx-text);
			fill: var(--ctx-text);
		}
		&.color-red {
			color: var(--ctx-red);
			accent-color: var(--ctx-red);
			fill: var(--ctx-red);
		}
		&.color-yellow {
			color: var(--ctx-yellow);
			accent-color: var(--ctx-yellow);
			fill: var(--ctx-yellow);
		}
		&.color-green {
			color: var(--ctx-green);
			accent-color: var(--ctx-green);
			fill: var(--ctx-green);
		}

		&.selected,
		&:has(.selected) {
			&.color-primary, &.color-blue {
				background-color: var(--ctx-primary);
			}
			&:not(.color-primary) {
				color: var(--ctx-text);
				accent-color: var(--ctx-text);
				fill: var(--ctx-text);
			}
			&.color-red {
				background-color: var(--ctx-red);
			}
			&.color-yellow {
				background-color: var(--ctx-yellow);
			}
			&.color-green {
				background-color: var(--ctx-green);
			}
		}
	}

	.ctx-separator {
		height: 1px;
		background-color: var(--ctx-separator);
		margin: 1px 4px;
	}
}
